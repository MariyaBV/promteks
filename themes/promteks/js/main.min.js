document.addEventListener("DOMContentLoaded",(function(){var t,e,n;t=document.querySelector(".quantity-arrow-minus"),e=document.querySelector(".quantity-arrow-plus"),n=document.querySelector(".input-text.qty.text"),t&&e&&n&&(t.addEventListener("click",(function(t){t.preventDefault(),parseInt(n.value)>1&&(n.value=parseInt(n.value)-1)})),e.addEventListener("click",(function(t){t.preventDefault(),n.value=parseInt(n.value)+1})))})),jQuery(document).ready((function(t){t(".ajax_add_to_cart").on("click",(function(e){e.preventDefault();var n=t(this),a={action:"woocommerce_ajax_add_to_cart",product_id:n.data("product-id")||n.closest("form").data("product_id"),quantity:n.siblings(".quantity").find(".qty").val()||1};return t.ajax({type:"POST",url:custom_ajax_obj.ajax_url,data:a,beforeSend:function(){n.addClass("loading")},complete:function(){n.removeClass("loading")},success:function(e){e.error&&e.product_url?window.location=e.product_url:(n.text("В корзине").addClass("in-basket"),t.ajax({url:custom_ajax_obj.ajax_url,type:"post",data:{action:"update_cart_count"},success:function(e){t(".cart-count").text(e.data.cart_count)},error:function(t,e,n){console.error("Update cart count error:",e,n)}}))},error:function(t,e,n){console.error("AJAX error:",e,n)}}),!1})),t(".quantity-arrow-minus").click((function(){var e=t(this).siblings(".quantity").find(".qty"),n=parseInt(e.val());!isNaN(n)&&n>1&&e.val(n-1)})),t(".quantity-arrow-plus").click((function(){var e=t(this).siblings(".quantity").find(".qty"),n=parseInt(e.val());isNaN(n)||e.val(n+1)})),t("body").on("added_to_cart",(function(){t.ajax({url:custom_ajax_obj.ajax_url,type:"post",data:{action:"update_cart_count"},success:function(e){t(".cart-count").text(e.data.cart_count)},error:function(t,e,n){console.error("Update cart count error:",e,n)}})}))})),$(document).ready((function(){$(document).ajaxStop((function(){$(".delete_item").each((function(){$(this).closest("li").addClass("added_to_wishlist"),$(".delete_item").contents().filter((function(){return 3===this.nodeType})).remove()})),$(".add_to_wishlist").each((function(){$(this).closest("li").removeClass("added_to_wishlist")}))})),$("body").on("click",".delete_item",(function(t){$(this).closest("li").removeClass("added_to_wishlist");var e=parseInt($(".header-wishlist .wishlist-count").text(),10);$(".header-wishlist .wishlist-count").text(e-1)})),$("body").on("click",".add_to_wishlist",(function(t){var e=$(this).closest("li");if($(".delete_item").contents().filter((function(){return 3===this.nodeType})).remove(),!e.hasClass("added_to_wishlist")){e.addClass("added_to_wishlist");var n=parseInt($(".header-wishlist .wishlist-count").text(),10);$(".header-wishlist .wishlist-count").text(n+1)}}))})),jQuery(document).ready((function(t){function e(){t(".summary.entry-summary .woocommerce-Price-currencySymbol").text("р. (шт)")}e(),t(document).ajaxStop((function(){e()})),t(document).on("contentUpdated",(function(){e()}))}));


//# sourceMappingURL=../sourcemaps/main.min.js.map
