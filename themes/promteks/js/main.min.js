jQuery(document).ready((function(e){e(".category-list li").has("ul.children").addClass("has-children"),e(".category-list li.has-children > a").addClass("icon-Vector-10"),e(".category-list li.has-children > a").on("click",(function(t){t.preventDefault();var s=e(this).parent(),a=s.find("> ul.children");s.hasClass("expanded")?(s.removeClass("expanded").removeClass("icon-Vector-9"),e(this).addClass("icon-Vector-10"),a.slideUp()):(s.addClass("expanded").addClass("icon-Vector-9"),e(this).removeClass("icon-Vector-10"),a.slideDown())}));var t=localStorage.getItem("selectedCategory");if(t){var s=e("#"+t);if(s.addClass("selected"),s.parents("li").addClass("expanded").children("ul.children").show(),0!==s.parents("li").find("ul.children").length){var a=s.parent().parent();a.addClass("icon-Vector-9");var l=a.find("a");console.log(l),l.removeClass("icon-Vector-10")}}e(".category-list li a").on("click",(function(t){var s=e(this).parent();0===s.find("ul.children").length?(e(".category-list li").removeClass("selected"),s.addClass("selected"),localStorage.setItem("selectedCategory",s.attr("id"))):t.preventDefault()})),e(".category-list ul.children li a").on("click",(function(t){var s=e(this).parent();e(".category-list li").removeClass("selected"),s.addClass("selected"),localStorage.setItem("selectedCategory",s.attr("id"))}))})),$(document).ready((function(){function e(){$(".attribute-filters__select select").each((function(){const e=$(this),t=e.parent(),s=t.find(".reset-button"),a=t.find(".vertical-line");""!==e.val().trim()?(t.addClass("option-selected"),s.css("opacity","1"),a.css("display","block")):(t.removeClass("option-selected"),s.css("opacity","0"),a.css("display","none"))}))}e(),$(".attribute-filters__select select").on("change",(function(){e()})),$(".reset-button").on("click",(function(){const e=$(this).parent().find("select");e.val(""),e.trigger("change")})),function(e){let t=window.location.href;new MutationObserver((()=>{const s=window.location.href;s!==t&&(t=s,e())})).observe(document,{subtree:!0,childList:!0})}(e)}));
document.addEventListener("DOMContentLoaded",(function(){Array.from(document.querySelectorAll(".block-slider")).forEach((e=>{const r=e.querySelector(".swiper");if(r){const i=r.getAttribute("id");if(i){const r=e.querySelector("#next_"+i.replace("slider_swiper","")),t=e.querySelector("#prev_"+i.replace("slider_swiper","")),o=e.querySelector("#pagination_"+i.replace("slider_swiper",""));new Swiper("#"+i,{direction:"horizontal",slidesPerView:1,slidesPerGroup:1,autoHeight:!0,loop:!0,navigation:{nextEl:r,prevEl:t},pagination:{el:o,clickable:!0}})}}}))}));
document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".product-category").forEach((e=>{const t=e.querySelector(".swiper");if(t){const n=t.getAttribute("id");if(n){const o=e.querySelector(".product-category__next"+n);new Swiper("#"+n,{direction:"horizontal",loop:!0,slidesPerView:2,slidesPerGroup:2,autoHeight:!0,spaceBetween:15,navigation:{nextEl:o},breakpoints:{660:{slidesPerView:3,slidesPerGroup:3,spaceBetween:30},961:{slidesPerView:4,slidesPerGroup:4,spaceBetween:40}},on:{init:function(){i(this)},resize:function(){i(this)}}});function i(e){let t=2;window.innerWidth>=961?t=4:window.innerWidth>=660&&(t=3),e.slides.length<=t?e.navigation.nextEl.style.display="none":e.navigation.nextEl.style.display=""}}}}))}));
document.addEventListener("DOMContentLoaded",(function(){var t,e,a;t=document.querySelector(".quantity-arrow-minus"),e=document.querySelector(".quantity-arrow-plus"),a=document.querySelector(".input-text.qty.text"),t&&e&&a&&(t.addEventListener("click",(function(t){t.preventDefault(),parseInt(a.value)>1&&(a.value=parseInt(a.value)-1)})),e.addEventListener("click",(function(t){t.preventDefault(),a.value=parseInt(a.value)+1})))})),jQuery(document).ready((function(t){t(".ajax_add_to_cart").on("click",(function(e){e.preventDefault();var a=t(this),o={action:"woocommerce_ajax_add_to_cart",product_id:a.data("product-id")||a.closest("form").data("product_id"),quantity:a.siblings(".quantity").find(".qty").val()||1};return t.ajax({type:"POST",url:custom_ajax_obj.ajax_url,data:o,beforeSend:function(){a.addClass("loading")},complete:function(){a.removeClass("loading")},success:function(e){e.error&&e.product_url?window.location=e.product_url:(a.find(".add-to-cart-text").text("В корзине"),a.addClass("in-basket"),t.ajax({url:custom_ajax_obj.ajax_url,type:"post",data:{action:"update_cart_count"},success:function(e){t(".cart-count").text(e.data.cart_count)},error:function(t,e,a){console.error("Update cart count error:",e,a)}}))},error:function(t,e,a){console.error("AJAX error:",e,a)}}),!1})),t(".quantity-arrow-minus").click((function(){var e=t(this).siblings(".quantity").find(".qty"),a=parseInt(e.val());!isNaN(a)&&a>1&&e.val(a-1)})),t(".quantity-arrow-plus").click((function(){var e=t(this).siblings(".quantity").find(".qty"),a=parseInt(e.val());isNaN(a)||e.val(a+1)})),t("body").on("added_to_cart",(function(){t.ajax({url:custom_ajax_obj.ajax_url,type:"post",data:{action:"update_cart_count"},success:function(e){t(".cart-count").text(e.data.cart_count)},error:function(t,e,a){console.error("Update cart count error:",e,a)}})}))})),$(document).ready((function(){$(document).ajaxStop((function(){$(".delete_item").each((function(){$(this).closest("li").addClass("added_to_wishlist"),$(this).closest(".swiper-slide").addClass("added_to_wishlist"),$(".delete_item").contents().filter((function(){return 3===this.nodeType})).remove()})),$(".add_to_wishlist").each((function(){$(this).closest("li").removeClass("added_to_wishlist"),$(this).closest(".swiper-slide").removeClass("added_to_wishlist")}))})),$("body").on("click",".delete_item",(function(t){$(this).closest("li").removeClass("added_to_wishlist"),$(this).closest(".swiper-slide").removeClass("added_to_wishlist");var e=parseInt($(".header-wishlist .wishlist-count").text(),10);$(".header-wishlist .wishlist-count").text(e-1)})),$("body").on("click",".add_to_wishlist",(function(t){var e=$(this).closest("li");if($(".delete_item").contents().filter((function(){return 3===this.nodeType})).remove(),!e.hasClass("added_to_wishlist")){e.addClass("added_to_wishlist");var a=parseInt($(".header-wishlist .wishlist-count").text(),10);$(".header-wishlist .wishlist-count").text(a+1)}}))})),jQuery(document).ready((function(t){function e(){t(".summary.entry-summary .woocommerce-Price-currencySymbol").text("₽")}e(),t(document).ajaxStop((function(){e()})),t(document).on("contentUpdated",(function(){e()}))}));

$(document).ready((function(){var e=new Swiper(".product-gallery-swiper",{direction:"vertical",spaceBetween:10,loop:!0,slidesPerGroup:3,slidesPerView:3,navigation:{nextEl:".product-gallery__swiper-button-next",prevEl:".product-gallery__swiper-button-prev"},on:{init:function(){o(this),n(this)},resize:function(){o(this),n(this)},slideChange:function(){o(this)},setTranslate:function(){o(this)}}}),t="init",i=!0;function n(e){e.slides.length<=3?($(e.navigation.nextEl).hide(),$(e.navigation.prevEl).hide()):($(e.navigation.nextEl).show(),$(e.navigation.prevEl).hide())}function o(e){var i=e.slides,n=e.height,o=$(".product-gallery-swiper").offset().top;i.forEach((i=>{var r,s=$(i),a=(r="next"===t?s.offset().top+e.translate:"prev"===t?s.offset().top-e.getTranslate():s.offset().top)+$(i).outerHeight();r>=o&&a<=o+n?$(i).removeClass("hidden"):$(i).addClass("hidden"),console.log("translate: ",e.translate,"slideTop: ",r,"swiperOffsetTop: ",o),console.log("slideBottom: ",a,"swiperOffsetTop + swiperHeight: ",o+n)}))}$(e.navigation.nextEl).on("click",(function(){t="next",o(e),i&&($(e.navigation.prevEl).css("display","block"),i=!1)})),$(e.navigation.prevEl).on("click",(function(){t="prev",o(e)}))})),$(document).ready((function(){var e=$(".swiper-container.product-gallery-swiper");0===e.find(".swiper-wrapper img").length&&e.hide()}));
document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".description-content"),n=document.querySelector(".custom-description .show-more-btn");n.addEventListener("click",(function(){e.style.maxHeight="none",n.style.display="none"}))}));

//# sourceMappingURL=../sourcemaps/main.min.js.map
