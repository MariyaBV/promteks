{"version":3,"sources":["block-product-category.js","custom.js","main.js","const/header.js"],"names":["document","addEventListener","querySelectorAll","forEach","searchSection","swiperElement","querySelector","swiperID","getAttribute","nextButton","Swiper","direction","loop","slidesPerView","slidesPerGroup","autoHeight","spaceBetween","navigation","nextEl","breakpoints","on","init","checkNavigationVisibility","this","resize","swiper","window","innerWidth","slides","length","style","display","quantityArrowMinus","quantityArrowPlus","quantityNum","event","preventDefault","parseInt","value","jQuery","ready","$","e","$thisButton","data","action","product_id","closest","quantity","siblings","find","val","ajax","type","url","custom_ajax_obj","ajax_url","beforeSend","addClass","complete","removeClass","success","response","error","product_url","location","text","cart_count","jqXHR","textStatus","errorThrown","console","click","$qty","currentVal","isNaN","ajaxStop","each","contents","filter","nodeType","remove","currentCount","closestLi","hasClass","updateCurrencySymbol"],"mappings":"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","file":"../components/main.min.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\n    const searchSections = document.querySelectorAll('.product-category');\n\n    searchSections.forEach(searchSection => {\n        const swiperElement = searchSection.querySelector('.swiper');\n\n        if (swiperElement) {\n            const swiperID = swiperElement.getAttribute('id');\n            if (swiperID) {\n                const nextButton = searchSection.querySelector('.product-category__next' + swiperID);\n                const swiper_certificates = new Swiper(\"#\" + swiperID, {\n                    direction: \"horizontal\",\n                    loop: true,\n                    slidesPerView: 2,\n                    slidesPerGroup: 2,\n                    autoHeight: true,\n                    spaceBetween: 15,\n                    navigation: {\n                        nextEl: nextButton,\n                    },\n                    breakpoints: {\n                        660: {\n                            slidesPerView: 3,\n                            slidesPerGroup: 3,\n                            spaceBetween: 30\n                        },\n                        961: {\n                            slidesPerView: 4,\n                            slidesPerGroup: 4,\n                            spaceBetween: 40\n                        },\n                    },\n                    on: {\n                        init: function () {\n                            checkNavigationVisibility(this);\n                        },\n                        resize: function () {\n                            checkNavigationVisibility(this);\n                        },\n                    },\n                });\n\n                function checkNavigationVisibility(swiper) {\n                    let slidesPerView = 2;\n                    if (window.innerWidth >= 961) {\n                        slidesPerView = 4;\n                    } else if (window.innerWidth >= 660) {\n                        slidesPerView = 3;\n                    }\n\n                    if (swiper.slides.length <= slidesPerView) {\n                        swiper.navigation.nextEl.style.display = 'none';\n                    } else {\n                        swiper.navigation.nextEl.style.display = '';\n                    }\n                }\n            }\n        }\n    });\n});\n","document.addEventListener(\"DOMContentLoaded\", function () {\n    function quantityProducts() {\n        var quantityArrowMinus = document.querySelector(\".quantity-arrow-minus\");\n        var quantityArrowPlus = document.querySelector(\".quantity-arrow-plus\");\n        var quantityNum = document.querySelector(\".input-text.qty.text\");\n\n        if (quantityArrowMinus && quantityArrowPlus && quantityNum) {\n            quantityArrowMinus.addEventListener(\"click\", function (event) {\n                event.preventDefault();\n                quantityMinus();\n            });\n\n            quantityArrowPlus.addEventListener(\"click\", function (event) {\n                event.preventDefault();\n                quantityPlus();\n            });\n        }\n\n        function quantityMinus() {\n            if (parseInt(quantityNum.value) > 1) {\n                quantityNum.value = parseInt(quantityNum.value) - 1;\n            }\n        }\n\n        function quantityPlus() {\n            quantityNum.value = parseInt(quantityNum.value) + 1;\n        }\n    }\n\n    quantityProducts();\n});\n\njQuery(document).ready(function ($) {\n    // Обработчик для кнопки \"Купить\"\n    $('.ajax_add_to_cart').on('click', function (e) {\n        e.preventDefault();\n\n        var $thisButton = $(this);\n        var product_id = $thisButton.data('product-id') || $thisButton.closest('form').data('product_id');\n        var quantity = $thisButton.siblings('.quantity').find('.qty').val() || 1;\n\n        var data = {\n            action: 'woocommerce_ajax_add_to_cart',\n            product_id: product_id,\n            quantity: quantity,\n        };\n\n        $.ajax({\n            type: 'POST',\n            url: custom_ajax_obj.ajax_url,\n            data: data,\n            beforeSend: function () {\n                $thisButton.addClass('loading');\n            },\n            complete: function () {\n                $thisButton.removeClass('loading');\n            },\n            success: function (response) {\n                if (response.error && response.product_url) {\n                    window.location = response.product_url;\n                    return;\n                } else {\n                    // Изменяем текст кнопки на \"В корзине\"\n                    $thisButton.text('В корзине').addClass('in-basket');\n\n                    // Обновление количества товаров в корзине\n                    $.ajax({\n                        url: custom_ajax_obj.ajax_url,\n                        type: 'post',\n                        data: {\n                            action: 'update_cart_count'\n                        },\n                        success: function (response) {\n                            $('.cart-count').text(response.data.cart_count);\n                        },\n                        error: function (jqXHR, textStatus, errorThrown) {\n                            console.error('Update cart count error:', textStatus, errorThrown);\n                        }\n                    });\n                }\n            },\n            error: function (jqXHR, textStatus, errorThrown) {\n                console.error('AJAX error:', textStatus, errorThrown);\n            }\n        });\n\n        return false;\n    });\n\n    // Обработчики для кнопок увеличения и уменьшения количества\n    $('.quantity-arrow-minus').click(function () {\n        var $qty = $(this).siblings('.quantity').find('.qty');\n        var currentVal = parseInt($qty.val());\n        if (!isNaN(currentVal) && currentVal > 1) {\n            $qty.val(currentVal - 1);\n        }\n    });\n\n    $('.quantity-arrow-plus').click(function () {\n        var $qty = $(this).siblings('.quantity').find('.qty');\n        var currentVal = parseInt($qty.val());\n        if (!isNaN(currentVal)) {\n            $qty.val(currentVal + 1);\n        }\n    });\n\n    // Обновление корзины при изменении количества\n    function updateCartCount() {\n        $.ajax({\n            url: custom_ajax_obj.ajax_url,\n            type: 'post',\n            data: {\n                action: 'update_cart_count'\n            },\n            success: function (response) {\n                $('.cart-count').text(response.data.cart_count);\n            },\n            error: function (jqXHR, textStatus, errorThrown) {\n                console.error('Update cart count error:', textStatus, errorThrown);\n            }\n        });\n    }\n\n    // Добавляем событие на обновление корзины после изменения количества товаров\n    $('body').on('added_to_cart', function () {\n        updateCartCount();\n    });\n});\n\n$(document).ready(function () {\n    $(document).ajaxStop(function () {\n        //добавляем стиль для всех лайкнутых элементов\n        $('.delete_item').each(function () {\n            var closestLi = $(this).closest('li');\n            closestLi.addClass('added_to_wishlist');\n\n            //для слайдера\n            var closestSwiper = $(this).closest('.swiper-slide');\n            closestSwiper.addClass('added_to_wishlist');\n\n            $('.delete_item').contents().filter(function () {\n                return this.nodeType === 3; // Удаляем только текстовые узлы\n            }).remove();\n        });\n\n        //удаляем стиль для всех НЕ лайкнутых элементов - нужно для страницы карточки когда есть еще блоки просмотренные\n        $('.add_to_wishlist').each(function () {\n            var closestLi = $(this).closest('li');\n            closestLi.removeClass('added_to_wishlist');\n\n            //для слайдера\n            var closestSwiper = $(this).closest('.swiper-slide');\n            closestSwiper.removeClass('added_to_wishlist');\n        });\n    });\n\n    // Отслеживаем клик на кнопке удаления из \"понравившихся\"\n    $('body').on('click', '.delete_item', function (e) {\n        var closestLi = $(this).closest('li');\n        closestLi.removeClass('added_to_wishlist');\n\n        //для слайдера\n        var closestSwiper = $(this).closest('.swiper-slide');\n        closestSwiper.removeClass('added_to_wishlist');\n\n        // Обновляем счетчик в шапке страницы\n        var currentCount = parseInt($('.header-wishlist .wishlist-count').text(), 10);\n        $('.header-wishlist .wishlist-count').text(currentCount - 1);\n    });\n\n    // Отслеживаем клик на кнопке добавления в \"понравившиеся\"\n    $('body').on('click', '.add_to_wishlist', function (e) {\n        var closestLi = $(this).closest('li');\n        $('.delete_item').contents().filter(function () {\n            return this.nodeType === 3; // Удаляем только текстовые узлы\n        }).remove();\n\n        // Проверяем, есть ли уже класс added_to_wishlist\n        if (!closestLi.hasClass('added_to_wishlist')) {\n            closestLi.addClass('added_to_wishlist');\n\n            // Обновляем счетчик в шапке страницы\n            var currentCount = parseInt($('.header-wishlist .wishlist-count').text(), 10);\n            $('.header-wishlist .wishlist-count').text(currentCount + 1);\n        }\n    });\n});\n\njQuery(document).ready(function ($) {\n    function updateCurrencySymbol() {\n        $('.summary.entry-summary .woocommerce-Price-currencySymbol').text('р. (шт)');\n    }\n\n    updateCurrencySymbol();\n\n    $(document).ajaxStop(function () {\n        updateCurrencySymbol();\n    });\n\n    $(document).on('contentUpdated', function () {\n        updateCurrencySymbol();\n    });\n});\n","","// const burger = document.getElementById(\"burger\"),\r\n//   parent_burger = burger.parentNode,\r\n//   back_layel_menu = document.getElementById(\"back_layel_menu\"),\r\n//   btn_ = document.getElementsByClassName(\"btn\");\r\n// burger.addEventListener(\"click\", function () {\r\n//   back_layel_menu.classList.toggle(\"open\");\r\n//   parent_burger.classList.toggle(\"open\");\r\n//   for (let item of btn_) {\r\n//     item.classList.toggle(\"open\");\r\n//   }\r\n// });\r\n"]}